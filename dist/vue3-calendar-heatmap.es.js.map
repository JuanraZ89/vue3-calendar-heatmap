{"version":3,"file":"vue3-calendar-heatmap.es.js","sources":["../src/components/Heatmap.ts","../src/components/CalendarHeatmap.vue","../src/index.ts"],"sourcesContent":["export interface Value {\n\tdate: Date | string;\n\tcount: number;\n}\n\nexport interface Activity {\n\tcount: number;\n\tcolorIndex: number;\n}\n\nexport type Activities = Map<string, Activity>;\n\nexport interface CalendarItem {\n\tdate: Date;\n\tcount?: number;\n\tcolorIndex: number;\n}\n\nexport type Calendar = CalendarItem[][];\n\nexport interface Month {\n\tvalue: number;\n\tindex: number;\n}\n\nexport interface Locale {\n\tmonths: string[];\n\tdays: string[];\n\ton: string;\n\tless: string;\n\tmore: string;\n}\n\nexport type TooltipFormatter = (item: CalendarItem, unit: string) => string;\n\nexport class Heatmap {\n\n\tstatic readonly DEFAULT_RANGE_COLOR_LIGHT = [ '#ebedf0', '#dae2ef', '#c0ddf9', '#73b3f3', '#3886e1', '#17459e' ];\n\tstatic readonly DEFAULT_RANGE_COLOR_DARK  = [ '#1f1f22', '#1e334a', '#1d466c', '#1d5689', '#1d69ac', '#1B95D1' ];\n\t// other color candidates\n\t// static readonly DEFAULT_RANGE_COLOR_LIGHT = [ '#ebedf0', '#9be9a8', '#40c463', '#30a14e', '#216e39' ];\n\t// static readonly DEFAULT_RANGE_COLOR_DARK  = [ '#161b22', '#0e4429', '#006d32', '#26a641', '#39d353' ];\n\t// static readonly DEFAULT_RANGE_COLOR_DARK    = [ '#011526', '#012E40', '#025959', '#02735E', '#038C65' ];\n\t// static readonly DEFAULT_RANGE_COLOR_DARK    = [ '#161b22', '#015958', '#008F8C', '#0CABA8', '#0FC2C0' ];\n\t// static readonly DEFAULT_RANGE_COLOR_DARK    = [ '#012030', '#13678A', '#45C4B0', '#9AEBA3', '#DAFDBA' ];\n\tstatic readonly DEFAULT_LOCALE: Locale = {\n\t\tmonths: [ 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec' ],\n\t\tdays  : [ 'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat' ],\n\t\ton    : 'on',\n\t\tless  : 'Less',\n\t\tmore  : 'More'\n\t};\n\tstatic readonly DEFAULT_TOOLTIP_UNIT   = 'contributions';\n\tstatic readonly DAYS_IN_ONE_YEAR       = 365;\n\tstatic readonly DAYS_IN_WEEK           = 7;\n\tstatic readonly SQUARE_SIZE            = 10;\n\n\tstartDate: Date;\n\tendDate: Date;\n\tmax: number;\n\n\tprivate _values: Value[];\n\tprivate _firstFullWeekOfMonths?: Month[];\n\tprivate _activities?: Activities;\n\tprivate _calendar?: Calendar;\n\n\tconstructor(endDate: Date | string, values: Value[], max?: number) {\n\t\tthis.endDate   = this.parseDate(endDate);\n\t\tthis.max       = max || Math.ceil((Math.max(...values.map(day => day.count)) / 5) * 4);\n\t\tthis.startDate = this.shiftDate(endDate, -Heatmap.DAYS_IN_ONE_YEAR);\n\t\tthis._values   = values;\n\t}\n\n\tset values(v: Value[]) {\n\t\tthis.max                    = Math.ceil((Math.max(...v.map(day => day.count)) / 5) * 4);\n\t\tthis._values                = v;\n\t\tthis._firstFullWeekOfMonths = undefined;\n\t\tthis._calendar              = undefined;\n\t\tthis._activities            = undefined;\n\t}\n\n\tget values(): Value[] {\n\t\treturn this._values;\n\t}\n\n\tget activities(): Activities {\n\t\tif (!this._activities) {\n\t\t\tthis._activities = new Map();\n\t\t\tfor (let i = 0, len = this.values.length; i < len; i++) {\n\t\t\t\tthis._activities.set(this.keyDayParser(this.values[ i ].date), {\n\t\t\t\t\tcount     : this.values[ i ].count,\n\t\t\t\t\tcolorIndex: this.getColorIndex(this.values[ i ].count)\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn this._activities;\n\t}\n\n\tget weekCount() {\n\t\treturn this.getDaysCount() / Heatmap.DAYS_IN_WEEK;\n\t}\n\n\tget calendar() {\n\t\tif (!this._calendar) {\n\t\t\tlet date       = this.shiftDate(this.startDate, -this.getCountEmptyDaysAtStart());\n\t\t\tdate           = new Date(date.getFullYear(), date.getMonth(), date.getDate());\n\t\t\tthis._calendar = new Array(this.weekCount);\n\t\t\tfor (let i = 0, len = this._calendar.length; i < len; i++) {\n\t\t\t\tthis._calendar[ i ] = new Array(Heatmap.DAYS_IN_WEEK);\n\t\t\t\tfor (let j = 0; j < Heatmap.DAYS_IN_WEEK; j++) {\n\t\t\t\t\tconst dayValues          = this.activities.get(this.keyDayParser(date));\n\t\t\t\t\tthis._calendar![ i ][ j ] = {\n\t\t\t\t\t\tdate      : new Date(date.valueOf()),\n\t\t\t\t\t\tcount     : dayValues ? dayValues.count : undefined,\n\t\t\t\t\t\tcolorIndex: dayValues ? dayValues.colorIndex : 0\n\t\t\t\t\t};\n\t\t\t\t\tdate.setDate(date.getDate() + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn this._calendar;\n\t}\n\n\tget firstFullWeekOfMonths(): Month[] {\n\t\tif (!this._firstFullWeekOfMonths) {\n\t\t\tconst cal                   = this.calendar;\n\t\t\tthis._firstFullWeekOfMonths = [];\n\t\t\tfor (let index = 1, len = cal.length; index < len; index++) {\n\t\t\t\tconst lastWeek    = cal[ index - 1 ][ 0 ].date,\n\t\t\t\t\t  currentWeek = cal[ index ][ 0 ].date;\n\t\t\t\tif (lastWeek.getFullYear() < currentWeek.getFullYear() || lastWeek.getMonth() < currentWeek.getMonth()) {\n\t\t\t\t\tthis._firstFullWeekOfMonths.push({ value: currentWeek.getMonth(), index });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn this._firstFullWeekOfMonths;\n\t}\n\n\tgetColorIndex(count?: number) {\n\t\tif (count === null || count === undefined) {\n\t\t\treturn 0;\n\t\t} else if (count <= 0) {\n\t\t\treturn 1;\n\t\t} else if (count >= this.max) {\n\t\t\treturn 5;\n\t\t} else {\n\t\t\treturn (Math.ceil(((count * 100) / this.max) * (0.03))) + 1;\n\t\t}\n\t}\n\n\tgetCountEmptyDaysAtStart() {\n\t\treturn this.startDate.getDay();\n\t}\n\n\tgetCountEmptyDaysAtEnd() {\n\t\treturn (Heatmap.DAYS_IN_WEEK - 1) - this.endDate.getDay();\n\t}\n\n\tgetDaysCount() {\n\t\treturn Heatmap.DAYS_IN_ONE_YEAR + 1 + this.getCountEmptyDaysAtStart() + this.getCountEmptyDaysAtEnd();\n\t}\n\n\tprivate shiftDate(date: Date | string, numDays: number) {\n\t\tconst newDate = new Date(date);\n\t\tnewDate.setDate(newDate.getDate() + numDays);\n\t\treturn newDate;\n\t}\n\n\tprivate parseDate(entry: Date | string) {\n\t\treturn (entry instanceof Date) ? entry : (new Date(entry));\n\t}\n\n\tprivate keyDayParser(date: Date | string) {\n\t\tconst day = this.parseDate(date);\n\t\treturn String(day.getFullYear()) + String(day.getMonth()).padStart(2, '0') + String(day.getDate()).padStart(2, '0');\n\t}\n\n}\n","<template>\n  <div :class=\"{ vch__container: true, 'dark-mode': darkMode }\">\n    <svg class=\"vch__wrapper\" ref=\"svg\" :viewBox=\"viewbox\">\n      <g\n        class=\"vch__months__labels__wrapper\"\n        :transform=\"monthsLabelWrapperTransform\"\n      >\n        <text\n          class=\"vch__month__label\"\n          v-for=\"(month, index) in heatmap.firstFullWeekOfMonths\"\n          :key=\"index\"\n          :x=\"getMonthLabelPosition(month).x\"\n          :y=\"getMonthLabelPosition(month).y\"\n        >\n          {{ lo.months[month.value] }}\n        </text>\n      </g>\n\n      <g\n        class=\"vch__days__labels__wrapper\"\n        :transform=\"daysLabelWrapperTransform\"\n      >\n        <text\n          class=\"vch__day__label\"\n          :x=\"vertical ? SQUARE_SIZE : 0\"\n          :y=\"vertical ? SQUARE_SIZE - SQUARE_BORDER_SIZE : 20\"\n        >\n          {{ lo.days[1] }}\n        </text>\n        <text\n          class=\"vch__day__label\"\n          :x=\"vertical ? SQUARE_SIZE * 3 : 0\"\n          :y=\"vertical ? SQUARE_SIZE - SQUARE_BORDER_SIZE : 44\"\n        >\n          {{ lo.days[3] }}\n        </text>\n        <text\n          class=\"vch__day__label\"\n          :x=\"vertical ? SQUARE_SIZE * 5 : 0\"\n          :y=\"vertical ? SQUARE_SIZE - SQUARE_BORDER_SIZE : 69\"\n        >\n          {{ lo.days[5] }}\n        </text>\n      </g>\n\n      <g\n        v-if=\"vertical\"\n        class=\"vch__legend__wrapper\"\n        :transform=\"legendWrapperTransform\"\n      >\n        <text :x=\"SQUARE_SIZE * 1.25\" y=\"8\">{{ lo.less }}</text>\n        <rect\n          v-for=\"(color, index) in curRangeColor\"\n          :key=\"index\"\n          :rx=\"round\"\n          :ry=\"round\"\n          :style=\"{ fill: color }\"\n          :width=\"SQUARE_SIZE - SQUARE_BORDER_SIZE\"\n          :height=\"SQUARE_SIZE - SQUARE_BORDER_SIZE\"\n          :x=\"SQUARE_SIZE * 1.75\"\n          :y=\"SQUARE_SIZE * (index + 1)\"\n        />\n        <text\n          :x=\"SQUARE_SIZE * 1.25\"\n          :y=\"SQUARE_SIZE * (curRangeColor.length + 2) - SQUARE_BORDER_SIZE\"\n        >\n          {{ lo.more }}\n        </text>\n      </g>\n\n      <g\n        class=\"vch__year__wrapper\"\n        :transform=\"yearWrapperTransform\"\n        @mouseover=\"initTippyLazy\"\n      >\n        <g\n          class=\"vch__month__wrapper\"\n          v-for=\"(week, weekIndex) in heatmap.calendar\"\n          :key=\"weekIndex\"\n          :transform=\"getWeekPosition(weekIndex)\"\n        >\n          <template v-for=\"(day, dayIndex) in week\" :key=\"dayIndex\">\n            <rect\n              class=\"vch__day__square\"\n              v-if=\"showFutureDays || day.date < now\"\n              :rx=\"round\"\n              :ry=\"round\"\n              :transform=\"getDayPosition(dayIndex)\"\n              :width=\"SQUARE_SIZE - SQUARE_BORDER_SIZE\"\n              :height=\"SQUARE_SIZE - SQUARE_BORDER_SIZE\"\n              :style=\"{ fill: curRangeColor[day.colorIndex] }\"\n              :data-week-index=\"weekIndex\"\n              :data-day-index=\"dayIndex\"\n              @click=\"$emit('dayClick', day)\"\n            />\n          </template>\n        </g>\n      </g>\n    </svg>\n    <div class=\"vch__legend\">\n      <slot name=\"legend\">\n        <div class=\"vch__legend-left\">\n          <slot name=\"vch__legend-left\"></slot>\n        </div>\n        <div class=\"vch__legend-right\">\n          <slot name=\"legend-right\">\n            <div class=\"vch__legend\">\n              <div>{{ lo.less }}</div>\n              <svg\n                v-if=\"!vertical\"\n                class=\"vch__external-legend-wrapper\"\n                :viewBox=\"legendViewbox\"\n                :height=\"SQUARE_SIZE - SQUARE_BORDER_SIZE\"\n              >\n                <g class=\"vch__legend__wrapper\">\n                  <rect\n                    v-for=\"(color, index) in curRangeColor\"\n                    :key=\"index\"\n                    :rx=\"round\"\n                    :ry=\"round\"\n                    :style=\"{ fill: color }\"\n                    :width=\"SQUARE_SIZE - SQUARE_BORDER_SIZE\"\n                    :height=\"SQUARE_SIZE - SQUARE_BORDER_SIZE\"\n                    :x=\"SQUARE_SIZE * index\"\n                  />\n                </g>\n              </svg>\n              <div>{{ lo.more }}</div>\n            </div>\n          </slot>\n        </div>\n      </slot>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {\n  defineComponent,\n  nextTick,\n  onBeforeUnmount,\n  onMounted,\n  PropType,\n  ref,\n  toRef,\n  toRefs,\n  watch,\n} from \"vue\";\nimport {\n  CalendarItem,\n  Heatmap,\n  Locale,\n  Month,\n  TooltipFormatter,\n  Value,\n} from \"@/components/Heatmap\";\nimport tippy, {\n  createSingleton,\n  CreateSingletonInstance,\n  Instance,\n} from \"tippy.js\";\nimport \"tippy.js/dist/tippy.css\";\nimport \"tippy.js/dist/svg-arrow.css\";\n\nexport default /*#__PURE__*/ defineComponent({\n  name: \"CalendarHeatmap\",\n  props: {\n\tshowFutureDays: {\n\t\ttype: Boolean,\n\t\tdefault: false\n\t},\n    endDate: {\n      required: true,\n    },\n    max: {\n      type: Number,\n    },\n    rangeColor: {\n      type: Array as PropType<string[]>,\n    },\n    values: {\n      type: Array as PropType<Value[]>,\n      required: true,\n    },\n    locale: {\n      type: Object as PropType<Partial<Locale>>,\n    },\n    tooltip: {\n      type: Boolean,\n      default: true,\n    },\n    tooltipUnit: {\n      type: String,\n      default: Heatmap.DEFAULT_TOOLTIP_UNIT,\n    },\n    tooltipFormatter: {\n      type: Function as PropType<TooltipFormatter>,\n    },\n    vertical: {\n      type: Boolean,\n      default: false,\n    },\n    noDataText: {\n      type: [Boolean, String],\n      default: null,\n    },\n    round: {\n      type: Number,\n      default: 0,\n    },\n    darkMode: Boolean,\n  },\n  emits: [\"dayClick\"],\n  setup(props) {\n    const SQUARE_BORDER_SIZE = Heatmap.SQUARE_SIZE / 5,\n      SQUARE_SIZE = Heatmap.SQUARE_SIZE + SQUARE_BORDER_SIZE,\n      LEFT_SECTION_WIDTH = Math.ceil(Heatmap.SQUARE_SIZE * 2.5),\n      RIGHT_SECTION_WIDTH = SQUARE_SIZE * 3,\n      TOP_SECTION_HEIGHT = Heatmap.SQUARE_SIZE + Heatmap.SQUARE_SIZE / 2,\n      BOTTOM_SECTION_HEIGHT = Heatmap.SQUARE_SIZE + Heatmap.SQUARE_SIZE / 2,\n      yearWrapperTransform = `translate(${LEFT_SECTION_WIDTH}, ${TOP_SECTION_HEIGHT})`,\n      svg = ref<null | SVGElement>(null),\n      now = ref(new Date()),\n      heatmap = ref(\n        new Heatmap(props.endDate as Date, props.values, props.max)\n      ),\n      width = ref(0),\n      height = ref(0),\n      viewbox = ref(\"0 0 0 0\"),\n      legendViewbox = ref(\"0 0 0 0\"),\n      daysLabelWrapperTransform = ref(\"\"),\n      monthsLabelWrapperTransform = ref(\"\"),\n      legendWrapperTransform = ref(\"\"),\n      lo = ref<Locale>({} as any),\n      rangeColor = ref<string[]>(\n        props.rangeColor ||\n          (props.darkMode\n            ? Heatmap.DEFAULT_RANGE_COLOR_DARK\n            : Heatmap.DEFAULT_RANGE_COLOR_LIGHT)\n      );\n\n    const {\n        values,\n        tooltipUnit,\n        tooltipFormatter,\n        noDataText,\n        max,\n        vertical,\n        locale,\n      } = toRefs(props),\n      tippyInstances = new Map<HTMLElement, Instance>();\n\n    let tippySingleton: CreateSingletonInstance;\n\n    function initTippy() {\n      tippyInstances.clear();\n      if (tippySingleton) {\n        tippySingleton.setInstances(Array.from(tippyInstances.values()));\n      } else {\n        tippySingleton = createSingleton(Array.from(tippyInstances.values()), {\n          overrides: [],\n          moveTransition: \"transform 0.1s ease-out\",\n          allowHTML: true,\n        });\n      }\n    }\n\n    function tooltipOptions(day: CalendarItem) {\n      if (props.tooltip) {\n        if (day.count !== undefined) {\n          if (props.tooltipFormatter) {\n            return props.tooltipFormatter(day, props.tooltipUnit!);\n          }\n          return `<b>${day.count} ${props.tooltipUnit}</b> ${lo.value.on} ${\n            lo.value.months[day.date.getMonth()]\n          } ${day.date.getDate()}, ${day.date.getFullYear()}`;\n        } else if (props.noDataText) {\n          return `${props.noDataText}`;\n        } else if (props.noDataText !== false) {\n          return `<b>No ${props.tooltipUnit}</b> ${lo.value.on} ${\n            lo.value.months[day.date.getMonth()]\n          } ${day.date.getDate()}, ${day.date.getFullYear()}`;\n        }\n      }\n      return undefined;\n    }\n\n    function getWeekPosition(index: number) {\n      if (props.vertical) {\n        return `translate(0, ${\n          SQUARE_SIZE * heatmap.value.weekCount - (index + 1) * SQUARE_SIZE\n        })`;\n      }\n      return `translate(${index * SQUARE_SIZE}, 0)`;\n    }\n\n    function getDayPosition(index: number) {\n      if (props.vertical) {\n        return `translate(${index * SQUARE_SIZE}, 0)`;\n      }\n      return `translate(0, ${index * SQUARE_SIZE})`;\n    }\n\n    function getMonthLabelPosition(month: Month) {\n      if (props.vertical) {\n        return {\n          x: 3,\n          y:\n            SQUARE_SIZE * heatmap.value.weekCount -\n            SQUARE_SIZE * month.index -\n            SQUARE_SIZE / 4,\n        };\n      }\n      return {\n        x: SQUARE_SIZE * month.index,\n        y: SQUARE_SIZE - SQUARE_BORDER_SIZE,\n      };\n    }\n\n    watch(\n      [toRef(props, \"rangeColor\"), toRef(props, \"darkMode\")],\n      ([rc, dm]) => {\n        rangeColor.value =\n          rc ||\n          (dm\n            ? Heatmap.DEFAULT_RANGE_COLOR_DARK\n            : Heatmap.DEFAULT_RANGE_COLOR_LIGHT);\n      }\n    );\n\n    watch(\n      vertical,\n      (v) => {\n        if (v) {\n          width.value =\n            LEFT_SECTION_WIDTH +\n            SQUARE_SIZE * Heatmap.DAYS_IN_WEEK +\n            RIGHT_SECTION_WIDTH;\n          height.value =\n            TOP_SECTION_HEIGHT +\n            SQUARE_SIZE * heatmap.value.weekCount +\n            SQUARE_BORDER_SIZE;\n          daysLabelWrapperTransform.value = `translate(${LEFT_SECTION_WIDTH}, 0)`;\n          monthsLabelWrapperTransform.value = `translate(0, ${TOP_SECTION_HEIGHT})`;\n        } else {\n          width.value =\n            LEFT_SECTION_WIDTH +\n            SQUARE_SIZE * heatmap.value.weekCount +\n            SQUARE_BORDER_SIZE;\n          height.value =\n            TOP_SECTION_HEIGHT + SQUARE_SIZE * Heatmap.DAYS_IN_WEEK;\n          daysLabelWrapperTransform.value = `translate(0, ${TOP_SECTION_HEIGHT})`;\n          monthsLabelWrapperTransform.value = `translate(${LEFT_SECTION_WIDTH}, 0)`;\n        }\n      },\n      { immediate: true }\n    );\n\n    watch([width, height], ([w, h]) => (viewbox.value = ` 0 0 ${w} ${h}`), {\n      immediate: true,\n    });\n    watch(\n      [width, height, rangeColor],\n      ([w, h, rc]) => {\n        legendWrapperTransform.value = vertical.value\n          ? `translate(${\n              LEFT_SECTION_WIDTH + SQUARE_SIZE * Heatmap.DAYS_IN_WEEK\n            }, ${TOP_SECTION_HEIGHT})`\n          : `translate(${w - SQUARE_SIZE * rc.length - 30}, ${\n              h - BOTTOM_SECTION_HEIGHT\n            })`;\n      },\n      { immediate: true }\n    );\n\n    watch(\n      locale,\n      (l) =>\n        (lo.value = l\n          ? { ...Heatmap.DEFAULT_LOCALE, ...l }\n          : Heatmap.DEFAULT_LOCALE),\n      { immediate: true }\n    );\n    watch(\n      rangeColor,\n      (rc) =>\n        (legendViewbox.value = `0 0 ${Heatmap.SQUARE_SIZE * (rc.length + 1)} ${\n          Heatmap.SQUARE_SIZE\n        }`),\n      { immediate: true }\n    );\n\n    watch(\n      [values, tooltipUnit, tooltipFormatter, noDataText, max, rangeColor],\n      () => {\n        heatmap.value = new Heatmap(\n          props.endDate as Date,\n          props.values,\n          props.max\n        );\n        tippyInstances.forEach((item) => item.destroy());\n        nextTick(initTippy);\n      }\n    );\n\n    onMounted(initTippy);\n    onBeforeUnmount(() => {\n      tippySingleton?.destroy();\n      tippyInstances.forEach((item) => item.destroy());\n    });\n\n    function initTippyLazy(e: MouseEvent) {\n      if (\n        tippySingleton &&\n        e.target &&\n        (e.target as HTMLElement).classList.contains(\"vch__day__square\") &&\n        (e.target as HTMLElement).dataset.weekIndex !== undefined &&\n        (e.target as HTMLElement).dataset.dayIndex !== undefined\n      ) {\n        const weekIndex = Number((e.target as HTMLElement).dataset.weekIndex),\n          dayIndex = Number((e.target as HTMLElement).dataset.dayIndex);\n\n        if (!isNaN(weekIndex) && !isNaN(dayIndex)) {\n          const tooltip = tooltipOptions(\n            heatmap.value.calendar[weekIndex][dayIndex]\n          );\n          if (tooltip) {\n            const instance = tippyInstances.get(e.target as HTMLElement);\n\n            if (instance) {\n              instance.setContent(tooltip);\n            } else if (!instance) {\n              tippyInstances.set(\n                e.target as HTMLElement,\n                tippy(e.target as HTMLElement, { content: tooltip } as any)\n              );\n              tippySingleton.setInstances(Array.from(tippyInstances.values()));\n            }\n          }\n        }\n      }\n    }\n\n    return {\n      SQUARE_BORDER_SIZE,\n      SQUARE_SIZE,\n      LEFT_SECTION_WIDTH,\n      RIGHT_SECTION_WIDTH,\n      TOP_SECTION_HEIGHT,\n      BOTTOM_SECTION_HEIGHT,\n      svg,\n      heatmap,\n      now,\n      width,\n      height,\n      viewbox,\n      daysLabelWrapperTransform,\n      monthsLabelWrapperTransform,\n      yearWrapperTransform,\n      legendWrapperTransform,\n      lo,\n      legendViewbox,\n      curRangeColor: rangeColor,\n      getWeekPosition,\n      getDayPosition,\n      getMonthLabelPosition,\n      initTippyLazy,\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\">\n.vch__container {\n  .vch__legend {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  .vch__external-legend-wrapper {\n    margin: 0 8px;\n  }\n}\n\nsvg.vch__wrapper {\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen,\n    Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif;\n  line-height: 10px;\n  width: 100%;\n\n  .vch__months__labels__wrapper text.vch__month__label {\n    font-size: 10px;\n  }\n\n  .vch__days__labels__wrapper text.vch__day__label,\n  .vch__legend__wrapper text {\n    font-size: 9px;\n  }\n\n  text.vch__month__label,\n  text.vch__day__label,\n  .vch__legend__wrapper text {\n    fill: #767676;\n  }\n\n  rect.vch__day__square:hover {\n    stroke: #555;\n    stroke-width: 2px;\n    paint-order: stroke;\n  }\n\n  rect.vch__day__square:focus {\n    outline: none;\n  }\n\n  &.dark-mode {\n    text.vch__month__label,\n    text.vch__day__label,\n    .vch__legend__wrapper text {\n      fill: #fff;\n    }\n  }\n}\n</style>\n","import { App } from 'vue';\nimport CalendarHeatmap from '@/components/CalendarHeatmap.vue';\n\nfunction install(Vue: App) {\n\tVue.component(CalendarHeatmap.name!, CalendarHeatmap);\n}\n\nexport default { install };\nexport * from '@/components/Heatmap';\nexport { default as CalendarHeatmap } from '@/components/CalendarHeatmap.vue';\n"],"names":["_Heatmap","endDate","values","max","__publicField","day","v","i","len","date","j","dayValues","cal","index","lastWeek","currentWeek","count","numDays","newDate","entry","Heatmap","_sfc_main","defineComponent","props","SQUARE_BORDER_SIZE","SQUARE_SIZE","LEFT_SECTION_WIDTH","RIGHT_SECTION_WIDTH","TOP_SECTION_HEIGHT","BOTTOM_SECTION_HEIGHT","yearWrapperTransform","svg","ref","now","heatmap","width","height","viewbox","legendViewbox","daysLabelWrapperTransform","monthsLabelWrapperTransform","legendWrapperTransform","lo","rangeColor","tooltipUnit","tooltipFormatter","noDataText","vertical","locale","toRefs","tippyInstances","tippySingleton","initTippy","createSingleton","tooltipOptions","getWeekPosition","getDayPosition","getMonthLabelPosition","month","watch","toRef","rc","dm","w","h","l","item","nextTick","onMounted","onBeforeUnmount","initTippyLazy","e","weekIndex","dayIndex","tooltip","instance","tippy","_hoisted_13","_hoisted_14","_hoisted_16","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","_createElementVNode","_Fragment","_renderList","_hoisted_2","_toDisplayString","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_4","_hoisted_9","color","_normalizeStyle","_hoisted_10","_hoisted_8","_createCommentVNode","args","week","_hoisted_12","_hoisted_1","_hoisted_15","_renderSlot","_hoisted_17","_hoisted_18","_hoisted_20","_hoisted_19","install","Vue","CalendarHeatmap"],"mappings":";;;;;AAmCO,MAAMA,IAAN,MAAMA,EAAQ;AAAA,EA+BpB,YAAYC,GAAwBC,GAAiBC,GAAc;AATnE,IAAAC,EAAA;AACA,IAAAA,EAAA;AACA,IAAAA,EAAA;AAEQ,IAAAA,EAAA;AACA,IAAAA,EAAA;AACA,IAAAA,EAAA;AACA,IAAAA,EAAA;AAGF,SAAA,UAAY,KAAK,UAAUH,CAAO,GACvC,KAAK,MAAYE,KAAO,KAAK,KAAM,KAAK,IAAI,GAAGD,EAAO,IAAI,OAAOG,EAAI,KAAK,CAAC,IAAI,IAAK,CAAC,GACrF,KAAK,YAAY,KAAK,UAAUJ,GAAS,CAACD,EAAQ,gBAAgB,GAClE,KAAK,UAAYE;AAAA,EAClB;AAAA,EAEA,IAAI,OAAOI,GAAY;AACtB,SAAK,MAAyB,KAAK,KAAM,KAAK,IAAI,GAAGA,EAAE,IAAI,CAAAD,MAAOA,EAAI,KAAK,CAAC,IAAI,IAAK,CAAC,GACtF,KAAK,UAAyBC,GAC9B,KAAK,yBAAyB,QAC9B,KAAK,YAAyB,QAC9B,KAAK,cAAyB;AAAA,EAC/B;AAAA,EAEA,IAAI,SAAkB;AACrB,WAAO,KAAK;AAAA,EACb;AAAA,EAEA,IAAI,aAAyB;AACxB,QAAA,CAAC,KAAK,aAAa;AACjB,WAAA,kCAAkB;AACd,eAAAC,IAAI,GAAGC,IAAM,KAAK,OAAO,QAAQD,IAAIC,GAAKD;AAC7C,aAAA,YAAY,IAAI,KAAK,aAAa,KAAK,OAAQA,CAAE,EAAE,IAAI,GAAG;AAAA,UAC9D,OAAY,KAAK,OAAQA,CAAE,EAAE;AAAA,UAC7B,YAAY,KAAK,cAAc,KAAK,OAAQA,CAAE,EAAE,KAAK;AAAA,QAAA,CACrD;AAAA,IAEH;AACA,WAAO,KAAK;AAAA,EACb;AAAA,EAEA,IAAI,YAAY;AACR,WAAA,KAAK,iBAAiBP,EAAQ;AAAA,EACtC;AAAA,EAEA,IAAI,WAAW;AACV,QAAA,CAAC,KAAK,WAAW;AAChB,UAAAS,IAAa,KAAK,UAAU,KAAK,WAAW,CAAC,KAAK,0BAA0B;AAC/D,MAAAA,IAAA,IAAI,KAAKA,EAAK,YAAY,GAAGA,EAAK,YAAYA,EAAK,QAAA,CAAS,GAC7E,KAAK,YAAY,IAAI,MAAM,KAAK,SAAS;AAChC,eAAAF,IAAI,GAAGC,IAAM,KAAK,UAAU,QAAQD,IAAIC,GAAKD,KAAK;AAC1D,aAAK,UAAWA,CAAE,IAAI,IAAI,MAAMP,EAAQ,YAAY;AACpD,iBAASU,IAAI,GAAGA,IAAIV,EAAQ,cAAcU,KAAK;AAC9C,gBAAMC,IAAqB,KAAK,WAAW,IAAI,KAAK,aAAaF,CAAI,CAAC;AACtE,eAAK,UAAYF,CAAE,EAAGG,CAAE,IAAI;AAAA,YAC3B,MAAY,IAAI,KAAKD,EAAK,SAAS;AAAA,YACnC,OAAYE,IAAYA,EAAU,QAAQ;AAAA,YAC1C,YAAYA,IAAYA,EAAU,aAAa;AAAA,UAAA,GAEhDF,EAAK,QAAQA,EAAK,QAAQ,IAAI,CAAC;AAAA,QAChC;AAAA,MACD;AAAA,IACD;AACA,WAAO,KAAK;AAAA,EACb;AAAA,EAEA,IAAI,wBAAiC;AAChC,QAAA,CAAC,KAAK,wBAAwB;AACjC,YAAMG,IAAwB,KAAK;AACnC,WAAK,yBAAyB;AAC9B,eAASC,IAAQ,GAAGL,IAAMI,EAAI,QAAQC,IAAQL,GAAKK,KAAS;AAC3D,cAAMC,IAAcF,EAAKC,IAAQ,CAAE,EAAG,CAAE,EAAE,MACvCE,IAAcH,EAAKC,CAAM,EAAG,CAAE,EAAE;AAC/B,SAAAC,EAAS,gBAAgBC,EAAY,YAAA,KAAiBD,EAAS,SAAS,IAAIC,EAAY,eACtF,KAAA,uBAAuB,KAAK,EAAE,OAAOA,EAAY,SAAS,GAAG,OAAAF,GAAO;AAAA,MAE3E;AAAA,IACD;AACA,WAAO,KAAK;AAAA,EACb;AAAA,EAEA,cAAcG,GAAgB;AACzB,WAAAA,KAAU,OACN,IACGA,KAAS,IACZ,IACGA,KAAS,KAAK,MACjB,IAEC,KAAK,KAAOA,IAAQ,MAAO,KAAK,MAAQ,IAAK,IAAK;AAAA,EAE5D;AAAA,EAEA,2BAA2B;AACnB,WAAA,KAAK,UAAU;EACvB;AAAA,EAEA,yBAAyB;AACxB,WAAQhB,EAAQ,eAAe,IAAK,KAAK,QAAQ;EAClD;AAAA,EAEA,eAAe;AACd,WAAOA,EAAQ,mBAAmB,IAAI,KAAK,6BAA6B,KAAK;EAC9E;AAAA,EAEQ,UAAUS,GAAqBQ,GAAiB;AACjD,UAAAC,IAAU,IAAI,KAAKT,CAAI;AAC7B,WAAAS,EAAQ,QAAQA,EAAQ,QAAQ,IAAID,CAAO,GACpCC;AAAA,EACR;AAAA,EAEQ,UAAUC,GAAsB;AACvC,WAAQA,aAAiB,OAAQA,IAAS,IAAI,KAAKA,CAAK;AAAA,EACzD;AAAA,EAEQ,aAAaV,GAAqB;AACnC,UAAAJ,IAAM,KAAK,UAAUI,CAAI;AACxB,WAAA,OAAOJ,EAAI,YAAa,CAAA,IAAI,OAAOA,EAAI,SAAU,CAAA,EAAE,SAAS,GAAG,GAAG,IAAI,OAAOA,EAAI,QAAS,CAAA,EAAE,SAAS,GAAG,GAAG;AAAA,EACnH;AAED;AA5ICD,EAFYJ,GAEI,6BAA4B,CAAE,WAAW,WAAW,WAAW,WAAW,WAAW,SAAU,IAC/GI,EAHYJ,GAGI,4BAA4B,CAAE,WAAW,WAAW,WAAW,WAAW,WAAW,SAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAO/GI,EAVYJ,GAUI,kBAAyB;AAAA,EACxC,QAAQ,CAAE,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,KAAM;AAAA,EAC7F,MAAQ,CAAE,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,KAAM;AAAA,EAC1D,IAAQ;AAAA,EACR,MAAQ;AAAA,EACR,MAAQ;AAAA,IAETI,EAjBYJ,GAiBI,wBAAyB,kBACzCI,EAlBYJ,GAkBI,oBAAyB,MACzCI,EAnBYJ,GAmBI,gBAAyB,IACzCI,EApBYJ,GAoBI,eAAyB;AApBnC,IAAMoB,IAANpB;ACiIP,MAA6BqB,KAAgB,gBAAAC,GAAA;AAAA,EAC3C,MAAM;AAAA,EACN,OAAO;AAAA,IACR,gBAAgB;AAAA,MACf,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA,IACG,SAAS;AAAA,MACP,UAAU;AAAA,IACZ;AAAA,IACA,KAAK;AAAA,MACH,MAAM;AAAA,IACR;AAAA,IACA,YAAY;AAAA,MACV,MAAM;AAAA,IACR;AAAA,IACA,QAAQ;AAAA,MACN,MAAM;AAAA,MACN,UAAU;AAAA,IACZ;AAAA,IACA,QAAQ;AAAA,MACN,MAAM;AAAA,IACR;AAAA,IACA,SAAS;AAAA,MACP,MAAM;AAAA,MACN,SAAS;AAAA,IACX;AAAA,IACA,aAAa;AAAA,MACX,MAAM;AAAA,MACN,SAASF,EAAQ;AAAA,IACnB;AAAA,IACA,kBAAkB;AAAA,MAChB,MAAM;AAAA,IACR;AAAA,IACA,UAAU;AAAA,MACR,MAAM;AAAA,MACN,SAAS;AAAA,IACX;AAAA,IACA,YAAY;AAAA,MACV,MAAM,CAAC,SAAS,MAAM;AAAA,MACtB,SAAS;AAAA,IACX;AAAA,IACA,OAAO;AAAA,MACL,MAAM;AAAA,MACN,SAAS;AAAA,IACX;AAAA,IACA,UAAU;AAAA,EACZ;AAAA,EACA,OAAO,CAAC,UAAU;AAAA,EAClB,MAAMG,GAAO;AACL,UAAAC,IAAqBJ,EAAQ,cAAc,GAC/CK,IAAcL,EAAQ,cAAcI,GACpCE,IAAqB,KAAK,KAAKN,EAAQ,cAAc,GAAG,GACxDO,IAAsBF,IAAc,GACpCG,IAAqBR,EAAQ,cAAcA,EAAQ,cAAc,GACjES,IAAwBT,EAAQ,cAAcA,EAAQ,cAAc,GACpEU,IAAuB,aAAaJ,CAAkB,KAAKE,CAAkB,KAC7EG,IAAMC,EAAuB,IAAI,GACjCC,IAAMD,EAAQ,oBAAA,KAAA,CAAM,GACpBE,IAAUF;AAAA,MACR,IAAIZ,EAAQG,EAAM,SAAiBA,EAAM,QAAQA,EAAM,GAAG;AAAA,IAE5D,GAAAY,IAAQH,EAAI,CAAC,GACbI,IAASJ,EAAI,CAAC,GACdK,IAAUL,EAAI,SAAS,GACvBM,IAAgBN,EAAI,SAAS,GAC7BO,IAA4BP,EAAI,EAAE,GAClCQ,IAA8BR,EAAI,EAAE,GACpCS,IAAyBT,EAAI,EAAE,GAC/BU,IAAKV,EAAY,CAAA,CAAS,GAC1BW,IAAaX;AAAA,MACXT,EAAM,eACHA,EAAM,WACHH,EAAQ,2BACRA,EAAQ;AAAA,IAAA,GAGZ;AAAA,MACF,QAAAlB;AAAA,MACA,aAAA0C;AAAA,MACA,kBAAAC;AAAA,MACA,YAAAC;AAAA,MACA,KAAA3C;AAAA,MACA,UAAA4C;AAAA,MACA,QAAAC;AAAA,QACEC,GAAO1B,CAAK,GAChB2B,wBAAqB,IAA2B;AAE9C,QAAAC;AAEJ,aAASC,IAAY;AACnB,MAAAF,EAAe,MAAM,GACjBC,IACFA,EAAe,aAAa,MAAM,KAAKD,EAAe,OAAQ,CAAA,CAAC,IAE/DC,IAAiBE,GAAgB,MAAM,KAAKH,EAAe,OAAA,CAAQ,GAAG;AAAA,QACpE,WAAW,CAAC;AAAA,QACZ,gBAAgB;AAAA,QAChB,WAAW;AAAA,MAAA,CACZ;AAAA,IAEL;AAEA,aAASI,EAAejD,GAAmB;AACzC,UAAIkB,EAAM,SAAS;AACb,YAAAlB,EAAI,UAAU;AAChB,iBAAIkB,EAAM,mBACDA,EAAM,iBAAiBlB,GAAKkB,EAAM,WAAY,IAEhD,MAAMlB,EAAI,KAAK,IAAIkB,EAAM,WAAW,QAAQmB,EAAG,MAAM,EAAE,IAC5DA,EAAG,MAAM,OAAOrC,EAAI,KAAK,SAAU,CAAA,CACrC,IAAIA,EAAI,KAAK,QAAS,CAAA,KAAKA,EAAI,KAAK,YAAA,CAAa;AACnD,YAAWkB,EAAM;AACR,iBAAA,GAAGA,EAAM,UAAU;AAC5B,YAAWA,EAAM,eAAe;AACvB,iBAAA,SAASA,EAAM,WAAW,QAAQmB,EAAG,MAAM,EAAE,IAClDA,EAAG,MAAM,OAAOrC,EAAI,KAAK,SAAS,CAAC,CACrC,IAAIA,EAAI,KAAK,SAAS,KAAKA,EAAI,KAAK,YAAA,CAAa;AAAA,MAErD;AAAA,IAEF;AAEA,aAASkD,EAAgB1C,GAAe;AACtC,aAAIU,EAAM,WACD,gBACLE,IAAcS,EAAQ,MAAM,aAAarB,IAAQ,KAAKY,CACxD,MAEK,aAAaZ,IAAQY,CAAW;AAAA,IACzC;AAEA,aAAS+B,EAAe3C,GAAe;AACrC,aAAIU,EAAM,WACD,aAAaV,IAAQY,CAAW,SAElC,gBAAgBZ,IAAQY,CAAW;AAAA,IAC5C;AAEA,aAASgC,GAAsBC,GAAc;AAC3C,aAAInC,EAAM,WACD;AAAA,QACL,GAAG;AAAA,QACH,GACEE,IAAcS,EAAQ,MAAM,YAC5BT,IAAciC,EAAM,QACpBjC,IAAc;AAAA,MAAA,IAGb;AAAA,QACL,GAAGA,IAAciC,EAAM;AAAA,QACvB,GAAGjC,IAAcD;AAAA,MAAA;AAAA,IAErB;AAEA,IAAAmC;AAAA,MACE,CAACC,EAAMrC,GAAO,YAAY,GAAGqC,EAAMrC,GAAO,UAAU,CAAC;AAAA,MACrD,CAAC,CAACsC,GAAIC,CAAE,MAAM;AACZ,QAAAnB,EAAW,QACTkB,MACCC,IACG1C,EAAQ,2BACRA,EAAQ;AAAA,MAChB;AAAA,IAAA,GAGFuC;AAAA,MACEZ;AAAA,MACA,CAACzC,MAAM;AACL,QAAIA,KACF6B,EAAM,QACJT,IACAD,IAAcL,EAAQ,eACtBO,GACFS,EAAO,QACLR,IACAH,IAAcS,EAAQ,MAAM,YAC5BV,GACwBe,EAAA,QAAQ,aAAab,CAAkB,QACrCc,EAAA,QAAQ,gBAAgBZ,CAAkB,QAEtEO,EAAM,QACJT,IACAD,IAAcS,EAAQ,MAAM,YAC5BV,GACKY,EAAA,QACLR,IAAqBH,IAAcL,EAAQ,cACnBmB,EAAA,QAAQ,gBAAgBX,CAAkB,KACxCY,EAAA,QAAQ,aAAad,CAAkB;AAAA,MAEvE;AAAA,MACA,EAAE,WAAW,GAAK;AAAA,IAAA,GAGpBiC,EAAM,CAACxB,GAAOC,CAAM,GAAG,CAAC,CAAC2B,GAAGC,CAAC,MAAO3B,EAAQ,QAAQ,QAAQ0B,CAAC,IAAIC,CAAC,IAAK;AAAA,MACrE,WAAW;AAAA,IAAA,CACZ,GACDL;AAAA,MACE,CAACxB,GAAOC,GAAQO,CAAU;AAAA,MAC1B,CAAC,CAACoB,GAAGC,GAAGH,CAAE,MAAM;AACd,QAAApB,EAAuB,QAAQM,EAAS,QACpC,aACErB,IAAqBD,IAAcL,EAAQ,YAC7C,KAAKQ,CAAkB,MACvB,aAAamC,IAAItC,IAAcoC,EAAG,SAAS,EAAE,KAC3CG,IAAInC,CACN;AAAA,MACN;AAAA,MACA,EAAE,WAAW,GAAK;AAAA,IAAA,GAGpB8B;AAAA,MACEX;AAAA,MACA,CAACiB,MACEvB,EAAG,QAAQuB,IACR,EAAE,GAAG7C,EAAQ,gBAAgB,GAAG6C,EAAE,IAClC7C,EAAQ;AAAA,MACd,EAAE,WAAW,GAAK;AAAA,IAAA,GAEpBuC;AAAA,MACEhB;AAAA,MACA,CAACkB,MACEvB,EAAc,QAAQ,OAAOlB,EAAQ,eAAeyC,EAAG,SAAS,EAAE,IACjEzC,EAAQ,WACV;AAAA,MACF,EAAE,WAAW,GAAK;AAAA,IAAA,GAGpBuC;AAAA,MACE,CAACzD,GAAQ0C,GAAaC,GAAkBC,GAAY3C,GAAKwC,CAAU;AAAA,MACnE,MAAM;AACJ,QAAAT,EAAQ,QAAQ,IAAId;AAAA,UAClBG,EAAM;AAAA,UACNA,EAAM;AAAA,UACNA,EAAM;AAAA,QAAA,GAER2B,EAAe,QAAQ,CAACgB,MAASA,EAAK,QAAS,CAAA,GAC/CC,GAASf,CAAS;AAAA,MACpB;AAAA,IAAA,GAGFgB,GAAUhB,CAAS,GACnBiB,GAAgB,MAAM;AACpB,MAAAlB,KAAA,QAAAA,EAAgB,WAChBD,EAAe,QAAQ,CAACgB,MAASA,EAAK,QAAS,CAAA;AAAA,IAAA,CAChD;AAED,aAASI,GAAcC,GAAe;AACpC,UACEpB,KACAoB,EAAE,UACDA,EAAE,OAAuB,UAAU,SAAS,kBAAkB,KAC9DA,EAAE,OAAuB,QAAQ,cAAc,UAC/CA,EAAE,OAAuB,QAAQ,aAAa,QAC/C;AACA,cAAMC,IAAY,OAAQD,EAAE,OAAuB,QAAQ,SAAS,GAClEE,IAAW,OAAQF,EAAE,OAAuB,QAAQ,QAAQ;AAE9D,YAAI,CAAC,MAAMC,CAAS,KAAK,CAAC,MAAMC,CAAQ,GAAG;AACzC,gBAAMC,IAAUpB;AAAA,YACdpB,EAAQ,MAAM,SAASsC,CAAS,EAAEC,CAAQ;AAAA,UAAA;AAE5C,cAAIC,GAAS;AACX,kBAAMC,IAAWzB,EAAe,IAAIqB,EAAE,MAAqB;AAE3D,YAAII,IACFA,EAAS,WAAWD,CAAO,IACjBC,MACKzB,EAAA;AAAA,cACbqB,EAAE;AAAA,cACFK,GAAML,EAAE,QAAuB,EAAE,SAASG,GAAgB;AAAA,YAAA,GAE5DvB,EAAe,aAAa,MAAM,KAAKD,EAAe,OAAQ,CAAA,CAAC;AAAA,UAEnE;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAEO,WAAA;AAAA,MACL,oBAAA1B;AAAA,MACA,aAAAC;AAAA,MACA,oBAAAC;AAAA,MACA,qBAAAC;AAAA,MACA,oBAAAC;AAAA,MACA,uBAAAC;AAAA,MACA,KAAAE;AAAA,MACA,SAAAG;AAAA,MACA,KAAAD;AAAA,MACA,OAAAE;AAAA,MACA,QAAAC;AAAA,MACA,SAAAC;AAAA,MACA,2BAAAE;AAAA,MACA,6BAAAC;AAAA,MACA,sBAAAV;AAAA,MACA,wBAAAW;AAAA,MACA,IAAAC;AAAA,MACA,eAAAJ;AAAA,MACA,eAAeK;AAAA,MACf,iBAAAY;AAAA,MACA,gBAAAC;AAAA,MACA,uBAAAC;AAAA,MACA,eAAAa;AAAA,IAAA;AAAA,EAEJ;AACF,CAAC;;;;;sPAlXcO,KAAA,CAAA,WAAA,GAEGC,KAAA,CAAA,MAAA,MAAC,aAAkB,SAAA,UAAA,mBAAA,kBAAA,SAAA,UAGxB,OAAM,iBAEFC,KAAA,EAAA,OAAM,kEAQJ,OAAM;SAjHZC,GAAuCC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAA;;cAChD,EAgGM,gBAAA,IAAA,aAAAL,EAAA,UAAA;AAAA,EAAA,GAAA;AAAA,KAhG6BM,EAAA,GAAAC,EAAA,OAAA;AAAA,MAAE,OAAO;AAAA,MAAA,KAAA;AAAA,MAC1C,SAAAP,EAAA;AAAA,IAAA,GAAA;AAAA,MAEcQ,EAAA,KAAA;AAAA,QAAA,OAAA;AAAA;;WAGJ,EAAmB,GAAAD,EAAAE,GAAA,MAAAC,EAAAV,EAAA,QAAA,uBAAA,CAAAvB,GAAA7C,OAEnB0E,EAAK,GAAAC,EAAA,QAAA;AAAA,UACV,OAAG;AAAA,UACH,KAAG3E;AAAA,UAAA,GAAAoE,EAAA,sBAEEvB,CAAO,EAAA;AAAA,UAAA,GAAAuB,EAAA,sBAAAvB,CAAA,EAAA;AAAA,2CAIjB,GAAA,GAAA;AAAA,MAAA,GACE,GAAMkC,EAAA;AAAA,MACMH,EAAA,KAAA;AAAA,QAAA,OAAA;AAAA,QAEZ,WAAAR,EAAA;AAAA,MAAA,GAAA;AAAA,UAEc,QAAG;AAAA,UACd,OAAG;AAAA,UAAA,GAAAA,EAAA,WAEDA,EAAO,cAAA;AAAA,UAEZ,GAMOA,EAAA,WAAAA,EAAA,cAAAA,EAAA,qBAAA;AAAA,QAAA,GALLY,EAAMZ,EAAiB,GAAA,KAAA,CAAA,CAAA,GAAA,GAAAa,EAAA;AAAA,QAAAL,EACX,QAAG;AAAA,UACd,OAAG;AAAA,UAAA,GAAAR,EAAA,WAEDA,EAAO,cAAA,IAAA;AAAA,UAEZ,GAMOA,EAAA,WAAAA,EAAA,cAAAA,EAAA,qBAAA;AAAA,QAAA,GALLY,EAAMZ,EAAiB,GAAA,KAAA,CAAA,CAAA,GAAA,GAAAc,EAAA;AAAA,QAAAN,EACX,QAAG;AAAA,UACd,OAAG;AAAA,UAAA,GAAAR,EAAA,WAEDA,EAAO,cAAA,IAAA;AAAA,UAAA,GAAAA,EAAA,WAAAA,EAAA,cAAAA,EAAA,qBAAA;AAAA,WAKEY,EAAAZ,EAAA,GAAA,KAAA,CAAA,CAAA,GAAA,GAAAe,EAAA;AAAA,MAAA,GAAA,GAAAC,EAAA;AAAA,yBACcT,EAAA,KAAA;AAAA,QAC3B,KAAA;AAAA,QAAA,OAAA;AAAA,QAED,WAAAP,EAAA;AAAA,MAAA,GAAA;AAAA,QAAmCQ,EAAA,QAAA;AAAA,UAAI,GAAAR,EAAA,cAAA;AAAA,UAAA,GAAA;AAAA,eACvC,GAUE,IAAA,GAAA,GAAAiB,EAAA;AAAA,SAAAX,EARM,EAAK,GAAAC,EAAAE,GAAA,MAAAC,EAAAV,EAAA,eAAA,CAAAkB,GAAAtF,OACN0E,EAAK,GAAAC,EAAA,QAAA;AAAA,UACT,KAAI3E;AAAA,UACJ,IAAKoE,EAAA;AAAA,UACL,IAAOA,EAAA;AAAA,UACP,OAAMmB,EAAE,EAAW,MAAGD,EAAA,CAAA;AAAA,UACtB,OAAGlB,EAAW,cAAAA,EAAA;AAAA,UACd,QAAGA,gBAAeA,EAAK;AAAA,UAAA,GAAAA,EAAA,cAAA;AAAA;WAOnB,MAAA,IAAAoB,EAAA,EAAA,GAJH,GAAE;AAAA,QAAAZ,EACA,QAAe;AAAA,UAEhB,GAAAR,EAAA,cAAA;AAAA,UAAA,GAAAA,EAAA,eAAAA,EAAA,cAAA,SAAA,KAAAA,EAAA;AAAA;MA+BH,GAAA,GAAAqB,EAAA,KA1BFC,EAAM,IAAoB,EAAA;AAAA,MACdd,EAAA,KAAA;AAAA,QACX,OAAA;AAAA,QAAA,WAAAR,EAAA;AAAA,QAED,aAAAC,EAAA,CAAA,MAAAA,EAAA,CAAA,IAqBI,IAnB0BsB,MAAAvB,EAAA,iBAAAA,EAAO,cAA3B,GAAIuB,CAAE;AAAA,MAAA,GAAA;AAAA,WADR,EAAqB,GAAAhB,EAAAE,GAAA,MAAAC,EAAAV,EAAA,QAAA,UAAA,CAAAwB,GAAAjC,OAErBe,EAAS,GAAAC,EAAA,KAAA;AAAA,UACd,OAAA;AAAA,UAAA,KAAAhB;AAAA,uCAEDA,CAcW;AAAA,QAAA,GAAA;AAAA,WAXDe,EAAA,EAAA,GAAAC,EAA6BE,GAAG,MAAAC,EAAAc,GAAA,CAAApG,GAAAoE,YAFxCe,EAYEE,GAAA,EAAA,KAAAjB,KAAA;AAAA,YAAAQ,EAAA,kBAAA5E,EAAA,OAAA4E,EAAA,OAAAM,EAAA,GAXwBC,EAAA,QAAA;AAAA,cAEvB,KAAI;AAAA,cACJ,OAAI;AAAA,cACJ,IAASP,EAAA;AAAA,cACT,IAAOA,EAAA;AAAA,cACP,WAAQA,EAAc,eAAAR,CAAA;AAAA,cACtB,OAAKQ,EAAU,cAAAA,EAAA;AAAA,cACf,wBAAiBA,EAAS;AAAA,cAC1B,SAAgB,EAAQ,MAAAA,EAAA,cAAA5E,EAAA,UAAA,GAAA;AAAA,cACxB,mBAAKmE;AAAA,cAAA,kBAAAC;AAAA;;;;SAuCV,IAAAiC,EAAA;AAAA,IAAA,GAhCJ,GA+BOC,EAAA;AAAA,IAAAlB,EA9BL,OAEMmB,IAFN;AAAA,MAAAC,EACE5B,EAAqC,QAAA,UAAA,CAAA,GAAA,MAAA;AAAA,QAAAQ,EAAA,OAAAV,IAAA;AAAA,UAEvC8B,EA0BM5B,EAAA,QAAA,kBAAA;AAAA,QAAA,CAAA;AAAA,QAxBFQ,EAAA,OAsBMqB,IAtBN;AAAA,UAAAD,EACE5B,EAAwB,QAAA,gBAAA,CAAA,GAAA,MAAA;AAAA,YAEPQ,EAAA,OAAAsB,IAAA;AAAA,cAAAtB,EADjB,OAkBM,MAAAI,EAAAZ,EAAA,GAAA,IAAA,GAAA,CAAA;AAAA,cAAAA,EAAA,WACkBsB,EAAA,IAAA,EAAA,KADlBhB,EAAA,GAhBgCC,EAAA,OAAA;AAAA,gBACnC,KAAA;AAAA,gBACA,OAAM;AAAA,gBAAA,SAAAP,EAAA;AAAA,gBAEP,QAAAA,EAAA,cAAAA,EAAA;AAAA,cAAA,GAAA;AAAA,gBACEQ,EAAA,KAAAuB,IAAA;AAAA,mBAAAzB,EAEQ,EAAK,GAAAC,EAAAE,GAAA,MAAAC,EAAAV,EAAA,eAAA,CAAAkB,GAAAtF,OACN0E,EAAK,GAAAC,EAAA,QAAA;AAAA,oBACT,KAAI3E;AAAA,oBACJ,IAAKoE,EAAA;AAAA,oBACL,IAAOA,EAAA;AAAA,oBACP,OAAMmB,EAAE,EAAW,MAAGD,EAAA,CAAA;AAAA,oBACtB,OAAGlB,gBAAcA,EAAK;AAAA,oBAAA,QAAAA,EAAA,cAAAA,EAAA;AAAA;;;cAIL,GAAA,GAAAgC,EAAA;AAAA;;;;;;;;;AC5HtC,SAASC,GAAQC,GAAU;AACtB,EAAAA,EAAA,UAAUC,EAAgB,MAAOA,CAAe;AACrD;AAEA,MAAevG,KAAA,EAAE,SAAAqG,GAAQ;"}